"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4306,9285,9805],{24306:function(e,t,i){i.d(t,{O:function(){return w}});var n=i(52322),r=i(96577),o=i.n(r),l=i(2784),a=i(25237),s=i.n(a),u=i(60228),c=i(6804),d=i(45087),p=i(10991),m=i(51559),_=i(16437);let v=e=>{var t;let{isChildTemplate:i,childTemplateSlug:n}=e,r=(0,l.useContext)(d.u),o=(0,l.useContext)(u.z),a=null==o?void 0:null===(t=o.customization)||void 0===t?void 0:t.item_page_data,s=(0,l.useCallback)(async()=>{var e,t;if(a&&o&&(null==r?void 0:r.routes)&&n){let i=(0,p.wo)(r.routes),l=await (null===(e=(0,m.Z)(a?.integration))||void 0===e?void 0:e.getDataBySlug(null==r?void 0:r.id,a,n)),s=(0,_.Z)(null==l?void 0:null===(t=l.data)||void 0===t?void 0:t[0],a,o.id,i[o.id],c.Z,o.published_content[0]);o.setPublishedContent([s])}},[a,o,null==r?void 0:r.routes,null==r?void 0:r.id,n]);(0,l.useEffect)(()=>{i&&n&&(null==a?void 0:a.expiresAt)&&new Date().getTime()>new Date(a?.expiresAt).getTime()-1e4&&s()},[null==a?void 0:a.expiresAt,n,i])};var h=i(58871),f=i(18337),g=class{static async submit(e,t){let i=new f.Z,n=await i.post("/form/submission/".concat(e),t);return n}};let y=s()(()=>Promise.all([i.e(7775),i.e(41),i.e(6039),i.e(3488)]).then(i.bind(i,43488)).then(e=>e.CollectionProvider),{loadableGenerated:{webpack:()=>[43488]}}),b=s()(()=>Promise.all([i.e(8070),i.e(3314),i.e(4455),i.e(7924),i.e(3446)]).then(i.bind(i,93446)).then(e=>e.Serializer),{loadableGenerated:{webpack:()=>[93446]}});function w(e){let{isChildTemplate:t,childTemplateSlug:i,children:r}=e,a=(0,l.useContext)(u.z);return v({isChildTemplate:t,childTemplateSlug:i}),(0,n.jsx)(b,{node:a.published_content[0],optimizedImageComponent:o(),collectionProviderComponent:y,isImageOptimizable:h.q,handleFormSubmission:g.submit,rootClassName:"typedream content",children:r})}w.defaultProps={childTemplateSlug:void 0}},60228:function(e,t,i){i.d(t,{T:function(){return a},z:function(){return l}});var n=i(52322),r=i(32957),o=i(2784);let l=(0,o.createContext)(null);function a(e){let{page:t,children:i}=e,[a,s]=(0,o.useState)(t);(0,o.useEffect)(()=>{t.id===a.id&&((0,r.Z)(t,a)||a.modified)||s(t)},[t]);let u=(0,o.useMemo)(()=>({...a,setPublishedContent:e=>{s({...a,published_content:e,modified:!0})}}),[a]);return(0,n.jsx)(l.Provider,{value:u,children:i})}},45087:function(e,t,i){i.d(t,{M:function(){return l},u:function(){return o}});var n=i(52322),r=i(2784);let o=(0,r.createContext)(null);function l(e){let{space:t,children:i}=e;return(0,n.jsx)(o.Provider,{value:t,children:i})}},46411:function(e,t,i){var n=i(203),r=i(56847);let o=(e,t,i,l,a)=>{let{collection_connect_data:s,collection_connect_data_keys:u}=a,c={...a};return s&&(null==u||u.forEach(o=>{let{schemaKey:a,blockElementKey:s}=o,u=t[a],d=e[u];if(d)c[s]=String(d);else if(u===r.Si&&n.W_.isElement(c)&&("a"===c.type||"button"===c.type||"container"===c.type||"img"===c.type)){c.page_id=i,c.internal_link=!0;let t="".concat("/".concat(l.join("/")),"/").concat(e[r.OH.SLUG.fieldName]);"img"===c.type?c.href=t:c.url=t}else c[s]=""})),n.W_.isElement(c)&&(c.children=c.children.map(n=>o(e,t,i,l,n))),c};t.Z=o},51559:function(e,t,i){i.d(t,{Z:function(){return k}});var n,r=i(18337),o=class{static async queryItems(e,t,i){let n=[];e.limit?n.push("limit=".concat(e.limit)):n.push("limit=50"),e.offset?n.push("offset=".concat(e.offset)):n.push("offset=0");let o=new r.Z,l=await o.post("/collectionitem/public/list/".concat(t).concat(n.length>0?"?".concat(n.join("&")):""),i);return l.data}},l=i(90291);class a{getCollectionData(){return{id:this.id,space_id:this.space_id,created_at:this.created_at,updated_at:this.updated_at,deleted_at:this.deleted_at,public_permission:this.public_permission,type:this.type,field:this.field}}getFormData(){return{id:this.id,space_id:this.space_id,updated_at:this.updated_at||new Date().toString(),published_at:new Date().toString(),name:this.field.name,webhook:this.field.webhook,schemaVersion:this.field.schemaVersion,schema:this.field.schema,form_type:this.field.form_type}}static isSchemaTypeWithOptions(e){return e&&"text"!==e.type&&"number"!==e.type&&"email"!==e.type}getViewLimit(e){if("form"===this.type){if("email_collection"===this.field.form_type)switch(e){case l.Lb.GROW:case l.Lb.PRO:case l.Lb.LAUNCH:case l.Lb.MINI:return{unlimited:!0,minimumPlan:l.Lb.LAUNCH_15_20};case l.Lb.LAUNCH_15_20:return{limit:1e3,unlimited:!1,minimumPlan:l.Lb.LAUNCH_15_20};case l.Lb.FREE:default:return{limit:1,unlimited:!1,minimumPlan:l.Lb.LAUNCH_15_20}}switch(e){case l.Lb.GROW:case l.Lb.PRO:return{unlimited:!0,minimumPlan:l.Lb.LAUNCH_15_20};case l.Lb.LAUNCH_15_20:return{limit:1e3,unlimited:!1,minimumPlan:l.Lb.LAUNCH_15_20};case l.Lb.FREE:case l.Lb.MINI:case l.Lb.LAUNCH:default:return{limit:1,unlimited:!1,minimumPlan:l.Lb.LAUNCH_15_20}}}return{unlimited:!0,minimumPlan:l.Lb.FREE}}constructor(e){var t,i;if(this.schemaVersion=0,e&&(t=e)&&t.name){this.id=e.id,this.space_id=e.space_id,this.deleted_at=new Date().toString(),this.updated_at=e.updated_at,this.created_at=new Date().toString(),this.type="form",this.public_permission=2,this.field={name:e.name,schemaVersion:this.schemaVersion,webhook:e.webhook,schema:e.schema,form_type:e.form_type};return}if(e&&!(e&&e.name)){if(this.id=e.id,this.space_id=e.space_id,this.created_at=e.created_at,this.updated_at=e.updated_at,this.deleted_at=e.deleted_at,this.type="form",this.public_permission=2,(i=e.field)&&i.name&&i.schema)this.field={...e.field};else throw Error("Invalid form collection field schema");return}this.id="",this.space_id="",this.deleted_at=new Date().toString(),this.updated_at=new Date().toString(),this.created_at=new Date().toString(),this.public_permission=2,this.field={name:"",schemaVersion:this.schemaVersion,webhook:{},schema:{}},this.type="form"}}let s=["title","slug","public","published_at"],u={selection:"Selection",multiselection:"Multi-selection",text:"Text",number:"Number",date:"Date",image:"Image",boolean:"Checkbox",rich_text:"Rich Text",url:"URL",object:"Object",slug:"Text"};class c{static isCMS(e){return e&&"cms"===e.type}static getDefaultCMSField(){return{name:"Blog",schemaVersion:0,schema:{0:{name:"Image",type:"image",deleted:!1}},preset_schema:{title:{name:"Title",type:"text",deleted:!1},slug:{name:"Slug",type:"text",deleted:!1},metadata:{name:"Metadata",type:"object",deleted:!1},published_at:{name:"Published At",type:"date",deleted:!1},content:{name:"Content",type:"rich_text",deleted:!1},published_content:{name:"Published Content",type:"rich_text",deleted:!1}},schemaOrder:[...s,"0"]}}static isSchemaTypeWithOptions(e){return e&&("selection"===e.type||"multiselection"===e.type)}static isTypeWithOptions(e){return"selection"===e||"multiselection"===e}static getDefaultCMSItems(e){let t=[{title:"How to sell your digital products",snippet:"Start selling your digital products with a few simple steps.",slug:"how-to-sell-your-digital-products",publishedAt:new Date,image:"https://api.typedream.com/v0/document/public/06acde81-5a0d-4f50-a48d-eaf4fbc08f8b/2UKkJWvDgmZiA2bBDLXX2f0tRE1_philip-jahn-PYkpulrIMG0-unsplash_Medium.jpeg"},{title:"How to start email marketing",snippet:"Email marketing is a great way to reach your customers.",slug:"how-to-start-email-marketing",publishedAt:new Date,image:"https://api.typedream.com/v0/document/public/08ed9f24-125c-4caa-9d3b-c1233537e0c6/2UQ5bkdooaR5OKEmoFxITtRaXnc_orva-studio-YC8qqp50BdA-unsplash_Medium.jpeg"},{title:"Start your creator journey with a freebie",snippet:"One of the best ways to get started is to give away something for free.",slug:"start-your-creator-journey-with-a-freebie",publishedAt:new Date,image:"https://api.typedream.com/v0/document/public/08ed9f24-125c-4caa-9d3b-c1233537e0c6/2UQ5eB7UTWLOzXlXbKSswM6YsDW_nadine-marfurt-BHZPATWnn-o-unsplash_Medium.jpeg"},{title:"Why you should start a blog",snippet:"Blogging is a great way to establish yourself as an expert in your field.",slug:"why-you-should-start-a-blog",publishedAt:new Date,image:"https://api.typedream.com/v0/document/public/08ed9f24-125c-4caa-9d3b-c1233537e0c6/2UQ5jWjzJohlz5LCCmozkTeMJcy_matt-artz-GmT0kql0k40-unsplash_Medium.jpeg"}];return t.map(t=>({collection_id:e,deleted:!1,public:!0,document:{fields:{0:t.image},preset_fields:{title:t.title,slug:t.slug,published_at:t.publishedAt.toString(),metadata:{metatags:{title:t.title,description:t.snippet}}}}}))}static addSchemaField(e,t){for(let i=0;i<100;i+=1)if(!e[i.toString()]){if(c.isTypeWithOptions(t))return{schema:{...e,[i.toString()]:{name:u[t],type:t,options:{0:{name:"Option 1",deleted:!1},1:{name:"Option 2",deleted:!1}},deleted:!1}},addedKey:i.toString()};return{schema:{...e,[i.toString()]:{name:u[t],type:t,deleted:!1}},addedKey:i.toString()}}throw Error("Cannot add more than 100 fields")}constructor(e){if(this.schemaVersion=0,e&&c.isCMS(e)){var t;this.id=e.id,this.space_id=e.space_id,this.deleted_at=new Date().toString(),this.updated_at=e.updated_at,this.created_at=new Date().toString(),this.type="cms",this.public_permission=3,this.field={name:e.field.name,schemaVersion:this.schemaVersion,schema:e.field.schema,preset_schema:e.field.preset_schema,schemaOrder:e.field.schemaOrder},(null===(t=this.field.schemaOrder)||void 0===t?void 0:t.length)<=0&&(this.field.schemaOrder=[...s,...Object.keys(this.field.schema)]);return}this.id="",this.space_id="",this.deleted_at=new Date().toString(),this.updated_at=new Date().toString(),this.created_at=new Date().toString(),this.public_permission=3,this.field=c.getDefaultCMSField(),this.type="cms"}}c.possiblePresetSchemaKeys=["title","slug","metadata","published_at","content","published_content"],c.nonSchemaKeys=["public"];let d=e=>e.toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),p={getItemPageDataID:e=>{let t=null==e?void 0:e.integration,i=null==e?void 0:e.tableID;return"".concat(t,"_").concat(i)},constructGetDataResult:e=>{var t;if("form"===e.collection.type){let i=new a(e.collection),{schema:n}=i.field,r=null===(t=e.results)||void 0===t?void 0:t.map(e=>{if(!e.deleted&&e.public){let t=Object.entries(e.document).reduce((e,t)=>{let[i,r]=t,o=parseInt(i,10),l=n[o],s=a.isSchemaTypeWithOptions(l),u=r;return s&&(u=r.map(e=>{var t;return null===(t=l.options[e])||void 0===t?void 0:t.name})),{...e,[o]:u}},{});return{...t,created_at:e.created_at,id:e.id}}}).filter(e=>void 0!==e),o={data:r,has_more:!!e.hasMore,next_cursor:"".concat(e.nextOffset),expires_at:null};return o}if("cms"===e.collection.type){let t=new c(e.collection),{schema:i,preset_schema:n}=t.field,r=e.results,o=null==r?void 0:r.map(e=>{if(!e.deleted&&e.public){let{fields:t}=e.document,r=Object.entries(t).reduce((e,t)=>{let[n,r]=t,o=i[n],l=c.isSchemaTypeWithOptions(o),a=r;return l&&(a=r.map(e=>{var t;return null===(t=o.options[e])||void 0===t?void 0:t.name})),"date"===o.type&&(a=d(new Date(r))),{...e,[n]:a}},{}),o=Object.entries(e.document.preset_fields).reduce((e,t)=>{let[i,r]=t,o=n[i],l=r;return"date"===o.type&&(l=d(new Date(r))),{...e,[i]:l}},{});return{...r,...o,created_at:e.created_at,id:e.id}}}).filter(e=>void 0!==e),l={data:o,has_more:!!e.hasMore,next_cursor:"".concat(e.nextOffset),expires_at:null};return l}return{data:[],has_more:!1,next_cursor:"",expires_at:null}},getData:async(e,t,i,n)=>{var r,a;let s;let u=null==t?void 0:t.tableID;if(!u)throw Error("Invalid collection id ".concat(u));let c=null==t?void 0:null===(r=t.metadata)||void 0===r?void 0:r[l.td.MAX_ITEMS],d=i?parseInt(i,10):0,m=null==t?void 0:null===(a=t.metadata)||void 0===a?void 0:a[l.td.VISITOR_FILTER_COLUMN];m&&n&&(s={path:[m],value:n});let _=await o.queryItems({limit:c,offset:d},u,s);return p.constructGetDataResult(_)},getDataBySlug:async(e,t,i)=>{let n=null==t?void 0:t.tableID;if(!n)throw Error("Invalid collection id ".concat(n));let r=await o.queryItems({limit:1,offset:0},n,{path:["preset_fields","slug"],value:i});return p.constructGetDataResult(r)},getColumnSelectOptions:()=>{throw Error("Not Implemented")},tableConnected:()=>{throw Error("Not Implemented")},getColumnNames:()=>{throw Error("Not Implemented")},getDataWithSearchQueryAndFilter:()=>{throw Error("Not Implemented")},getDataOnBuild:()=>!0};var m=i(59285),_=i(67067),v=i(9669),h=i.n(v),f=i(31691),g=i(56847),y=class{static getDataQuery(e,t,i,n,r,o){return{path:"/app/proxy_public/".concat(e,"/notion"),data:{url:"https://api.notion.com/v1/databases/".concat(t,"/query"),method:"POST",header:{"Content-Type":"application/json","Notion-Version":"2021-08-16"},body:{filter:i,sorts:n,start_cursor:r,page_size:o||void 0}},app:"notion"}}static async callQuery(e,t){let i=new r.Z,n=await i.post(e,t);return n}static async getTable(e,t){let i=new r.Z,n=await i.post("/app/proxy_public/".concat(e,"/notion"),{url:"https://api.notion.com/v1/databases/".concat(t),method:"GET",header:{"Content-Type":"application/json","Notion-Version":"2021-08-16"}});return n}};(n||(n={})).TABLE_ID="tableID";let b={title:{key:"contains",type:"string"},text:{key:"contains",type:"string"},rich_text:{key:"contains",type:"string"},number:{key:"equals",type:"number"},checkbox:{key:"equals",type:"boolean"},select:{key:"equals",type:"string"},multi_select:{key:"contains",type:"string"},date:{key:"equals",type:"true"},url:{key:"contains",type:"string"},email:{key:"contains",type:"string"},phone:{key:"contains",type:"string"},phone_number:{key:"contains",type:"string"},created_time:{key:"equals",type:"true"},last_edited_time:{key:"equals",type:"true"}},w={title:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},text:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},rich_text:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},number:{equals:"number",does_not_equal:"number",greater_than:"number",less_than:"number",greater_than_or_equal_to:"number",less_than_or_equal_to:"number",is_empty:"true",is_not_empty:"true"},checkbox:{equals:"boolean",does_not_equal:"boolean"},select:{equals:"string",does_not_equal:"string",is_empty:"true",is_not_empty:"true"},multi_select:{contains:"string",does_not_contain:"string",is_empty:"true",is_not_empty:"true"},date:{equals:"string",before:"string",after:"string",on_or_before:"string",on_or_after:"string",is_empty:"true",is_not_empty:"true"},files:{is_empty:"true",is_not_empty:"true"},url:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},email:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},phone:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},phone_number:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},created_time:{equals:"string",before:"string",after:"string",on_or_before:"string",on_or_after:"string",is_empty:"true",is_not_empty:"true"},last_edited_time:{equals:"string",before:"string",after:"string",on_or_before:"string",on_or_after:"string",is_empty:"true",is_not_empty:"true"}},q=e=>{try{let t=new Date(Date.parse(e)),i=t.toISOString().split("Z")[0],[n,r]=i.split("T"),o=r.split(":").slice(0,2).join(":");return"".concat(n).concat("00:00"!==o?" ".concat(o):"")}catch(t){return e}},x=e=>{var t,i,n,r,o,l,a,s,u,c,d,p,m,_,v,h,f,g,y,b;let w=e.type,C=null,S=null;switch(w){case"title":case"rich_text":S=null==e?void 0:null===(i=e[w])||void 0===i?void 0:null===(t=i.map(e=>e.plain_text))||void 0===t?void 0:t.join("");break;case"string":case"checkbox":case"url":case"email":case"phone_number":case"number":S=null==e?void 0:e[w];break;case"multi_select":S=null==e?void 0:null===(n=e[w])||void 0===n?void 0:n.map(e=>e.name).join(", ");break;case"date":S=q(null==e?void 0:null===(r=e[w])||void 0===r?void 0:r.start),(null==e?void 0:null===(o=e[w])||void 0===o?void 0:o.end)&&(S="".concat(S," - ").concat(q(null==e?void 0:null===(l=e[w])||void 0===l?void 0:l.end)));break;case"people":S=null==e?void 0:null===(a=e[w])||void 0===a?void 0:a.map(e=>e.name).join(", ");break;case"files":(null==e?void 0:null===(u=e[w])||void 0===u?void 0:null===(s=u[0])||void 0===s?void 0:s.type)==="file"?(S=null==e?void 0:null===(p=e[w])||void 0===p?void 0:null===(d=p[0])||void 0===d?void 0:null===(c=d.file)||void 0===c?void 0:c.url,C=null==e?void 0:null===(v=e[w])||void 0===v?void 0:null===(_=v[0])||void 0===_?void 0:null===(m=_.file)||void 0===m?void 0:m.expiry_time):S=null==e?void 0:null===(g=e[w])||void 0===g?void 0:null===(f=g[0])||void 0===f?void 0:null===(h=f.external)||void 0===h?void 0:h.url;break;case"formula":return x(null==e?void 0:e[w]);case"created_time":case"last_edited_time":S=q(null==e?void 0:e[w]);break;case"select":case"created_by":case"last_edited_by":S=null==e?void 0:null===(y=e[w])||void 0===y?void 0:y.name;break;case"rollup":{let t=null==e?void 0:e[w].type;if("array"===t){let i=null==e?void 0:null===(b=e[w][t])||void 0===b?void 0:b.map(e=>{let{propValue:t,expiresAt:i}=x(e);return(!C||i&&new Date(i).getTime()<new Date(C).getTime())&&(C=i),t});S=i.join(",")||"";break}S=x(null==e?void 0:e[w]),(null==e?void 0:e[w].function.includes("percent"))&&(S="".concat(Math.round(1e3*Number(S.propValue))/10,"%"));break}default:S=""}return{propValue:S,expiresAt:C}},C=e=>{let t=new Date(Date.parse("".concat(e," GMT+0000"))),i=t.toISOString().split("Z")[0],[n,r]=i.split("T"),o=r.split(":").slice(0,2).join(":");return"".concat(n).concat("00:00"!==o?" ".concat(o):"")};function S(e,t){if(void 0===t)return t;switch(e){case"string":return"".concat(t);case"number":if(!t||Number.isNaN(t)||Number.isNaN(parseFloat(String(t)))||Number.isNaN(Number(t)))return;return parseFloat(String(t));case"date":if(!(0,f.Z)(t))return;return C(String(t));case"boolean":if("string"!=typeof t)return t;if((null==t?void 0:t.toLowerCase())!=="true"&&(null==t?void 0:t.toLowerCase())!=="false")return;return(null==t?void 0:t.toLowerCase())==="true";case"true":if("string"!=typeof t)return t;if((null==t?void 0:t.toLowerCase())!=="true")return;return(null==t?void 0:t.toLowerCase())==="true";default:return t}}let D={getColumnNames:async(e,t)=>{var i;let r=null==t?void 0:t[n.TABLE_ID],o=await y.getTable(e,r),l=null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.properties;if(!l)return{};let a={};return Object.keys(l).forEach(e=>{a[e]={id:l[e].id,type:l[e].type,name:e}}),a},getColumnSelectOptions:async(e,t,i)=>{var r,o;let l=null==i?void 0:i[n.TABLE_ID],a=await y.getTable(e,l),s=null==a?void 0:null===(o=a.data)||void 0===o?void 0:null===(r=o.properties)||void 0===r?void 0:r[t];return s?s[s.type].options.map(e=>e.name):[]},getDataQuery:(e,t,i,r)=>{var o,l;let a=null==t?void 0:t[n.TABLE_ID],s=null==t?void 0:t.metadata,u=(null==s?void 0:s.filter_column)?{property:s.filter_column,[s.filter_column_type]:{[s.filter_condition]:S(null===(o=w[s.filter_column_type])||void 0===o?void 0:o[s.filter_condition],s.filter_value)}}:void 0,c=(null==s?void 0:s.visitor_filter_column)&&r&&r!==m.k?{property:s.visitor_filter_column,[s.visitor_filter_column_type]:{["select"===s.visitor_filter_column_type?"equals":"contains"]:S(null===(l=w[s.visitor_filter_column_type])||void 0===l?void 0:l["select"===s.visitor_filter_column_type?"equals":"contains"],r)}}:void 0,d=(null==s?void 0:s.sort_column)?[{property:s.sort_column,direction:s.sort_direction}]:void 0,p=y.getDataQuery(e,a,u&&c?{and:[u,c]}:u||c,d,i,null==s?void 0:s.max_items);return p},constructGetDataResult:e=>{let t=null==e?void 0:e.results;if(!t)return{data:[],has_more:null==e?void 0:e.has_more,next_cursor:null==e?void 0:e.next_cursor,expires_at:null};let i=null,n=[];return t.forEach(e=>{if(null==e?void 0:e.properties){let t={},r=null==e?void 0:e.properties;Object.entries(r).forEach(e=>{let[n,r]=e,{propValue:o,expiresAt:l}=x(r);l&&(i=i&&new Date(i).getTime()<new Date(l).getTime()?i:l),o&&(t[n]=o)}),t[g.it]=null==e?void 0:e.id,n.push(t)}}),{data:n,has_more:null==e?void 0:e.has_more,next_cursor:null==e?void 0:e.next_cursor,expires_at:i}},getData:async(e,t,i,n)=>{let r=D.getDataQuery(e,t,i,n),o=await y.callQuery(r.path,r.data);return D.constructGetDataResult(null==o?void 0:o.data)},getDataBySlug:async(e,t,i)=>{var r,o,l,a,s;let u=null==t?void 0:t[n.TABLE_ID],c={property:g.OH.SLUG.fieldName,[g.OH.SLUG.type]:{equals:i}},d=y.getDataQuery(e,u,c,void 0,void 0,1),p=await y.callQuery(d.path,d.data),m=D.constructGetDataResult(null==p?void 0:p.data);if((null===(o=m)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.length)<=0)throw Error("item page not found");let v=null===(a=m)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l[0],h=await D.JSONFileToContent(v,t),f=null==t?void 0:null===(s=t.pageSchema)||void 0===s?void 0:s.metadata;return h=(0,_.Uy)(h,e=>{e[f]=e[f]?JSON.parse(e[f]):e[f]}),m=(0,_.Uy)(m,e=>{e.data[0]=h})},getDataWithSearchQueryAndFilter:async(e,t,i,r,o,l)=>{var a,s,u,c,d;let p=null==t?void 0:t[n.TABLE_ID],_=null==t?void 0:t.metadata,v=(null==_?void 0:_.filter_column)?{property:_.filter_column,[_.filter_column_type]:{[_.filter_condition]:S(null===(a=w[_.filter_column_type])||void 0===a?void 0:a[_.filter_condition],_.filter_value)}}:void 0,h=(null==_?void 0:_.visitor_filter_column)&&l&&l!==m.k?{property:_.visitor_filter_column,[_.visitor_filter_column_type]:{["select"===_.visitor_filter_column_type?"equals":"contains"]:S(null===(s=w[_.visitor_filter_column_type])||void 0===s?void 0:s["select"===_.visitor_filter_column_type?"equals":"contains"],l)}}:void 0,f=v&&h?{and:[v,h]}:v||h,g=null==_?void 0:_.search_columns;g=Array.isArray(g)&&(null===(u=g)||void 0===u?void 0:u.length)>0?g:Object.keys(r);let q=[];i&&g.forEach(e=>{let t=r[e];if(b[t.type]){let{key:e,type:n}=b[t.type],r=S(n,i);if(null!=r&&""!==r){if("string"===n){q=q.concat([{property:t.name,[t.type]:{[e]:r}},{property:t.name,[t.type]:{[e]:r.toLowerCase()}},{property:t.name,[t.type]:{[e]:r.toUpperCase()}},{property:t.name,[t.type]:{[e]:r.charAt(0).toUpperCase()+r.slice(1)}},{property:t.name,[t.type]:{[e]:function(e){let t=e.split(" ");return t.map(e=>e[0].toUpperCase()+e.substring(1)).join(" ")}(r)}}]);return}q.push({property:t.name,[t.type]:{[e]:r}})}}});let x=f;(null===(c=q)||void 0===c?void 0:c.length)>0&&f&&(x={and:[f,{or:q}]}),(null===(d=q)||void 0===d?void 0:d.length)>0&&!f&&(x={or:q});let C=(null==_?void 0:_.sort_column)?[{property:null==_?void 0:_.sort_column,direction:null==_?void 0:_.sort_direction}]:void 0,k=y.getDataQuery(e,p,x,C,o,null==_?void 0:_.max_items),I=await y.callQuery(k.path,k.data);return D.constructGetDataResult(null==I?void 0:I.data)},getItemPageDataID:e=>{let t=null==e?void 0:e.integration,i=null==e?void 0:e[n.TABLE_ID];return"".concat(t,"_").concat(i)},tableConnected:e=>e&&(null==e?void 0:e[n.TABLE_ID]),JSONFileToContent:async(e,t)=>{var i,n;let r=e,o=null==t?void 0:null===(i=t.pageSchema)||void 0===i?void 0:i.content;if(e&&e[o]){let t=e[o],i=await h().get(t,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}),n=(null==i?void 0:i.data)?JSON.parse(null==i?void 0:i.data):null;r=(0,_.Uy)(e,e=>{e[o]=n})}let l=null==t?void 0:null===(n=t.pageSchema)||void 0===n?void 0:n.published_content;if(e&&e[l]){let t=e[l],i=await h().get(t,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}),n=(null==i?void 0:i.data)?JSON.parse(null==i?void 0:i.data):null;r=(0,_.Uy)(e,e=>{e[l]=n})}return r},getDataOnBuild:()=>!1};var k=e=>{switch(e){case"notion":return D;case"td_cms":return p;default:throw Error("Unknown integration ".concat(e))}}},16437:function(e,t,i){var n=i(203),r=i(46411);let o=(e,t,i,r)=>{let l={...i};if(n.W_.isElement(l)){if("rich_text_content"===l.type){let i=r?t.content:t.published_content,n=e[i];try{var a;let e=null==n?void 0:null===(a=n[0])||void 0===a?void 0:a.children;e&&(l.children=e)}catch(e){}}else l.children=l.children.map(i=>o(e,t,i))}return l};t.Z=(e,t,i,n,l,a,s)=>{let u={...a,id:a.id||l()};return e&&t.contentSchema&&(u=(0,r.Z)(e,t.contentSchema,i,n,a),u=o(e,t.pageSchema,u,s)),u}},10991:function(e,t,i){i.d(t,{wo:function(){return r}}),i(51559);var n=i(77068);let r=(0,n.Z)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i={};return(null==e?void 0:e.page_id)&&(i[e.page_id]=t,(null==e?void 0:e.children_template_page_id)&&(i[e.children_template_page_id]=t),e.children&&Object.keys(e.children).forEach(n=>{Object.assign(i,r(e.children[n],[...t,n]))})),i})},47198:function(e,t,i){var n,r;i.d(t,{P:function(){return n}}),(r=n||(n={})).PILL="pill",r.PILL_BG="pillWithBackground",r.TAB="tab",r.SQUARE_BG="squareWithBackground",r.LEFT_COLUMN="leftColumn"},59285:function(e,t,i){i.d(t,{L:function(){return R},k:function(){return M}});var n={};i.r(n),i.d(n,{filterContainer_leftColumn:function(){return p},filterContainer_pill:function(){return m},filterContainer_pillWithBackground:function(){return _},filterContainer_squareWithBackground:function(){return v},filterContainer_tab:function(){return h},filterItemActive_leftColumn:function(){return f},filterItemActive_pill:function(){return g},filterItemActive_pillWithBackground:function(){return y},filterItemActive_squareWithBackground:function(){return b},filterItemActive_tab:function(){return w},filterItemWrapper_leftColumn:function(){return q},filterItemWrapper_pill:function(){return x},filterItemWrapper_pillWithBackground:function(){return C},filterItemWrapper_squareWithBackground:function(){return S},filterItemWrapper_tab:function(){return D},filterItem_leftColumn:function(){return k},filterItem_pill:function(){return I},filterItem_pillWithBackground:function(){return L},filterItem_squareWithBackground:function(){return T},filterItem_tab:function(){return N},filterNavNext:function(){return j},filterNavPrev:function(){return O},filterWrapper_leftColumn:function(){return A},filterWrapper_pill:function(){return E},filterWrapper_pillWithBackground:function(){return W},filterWrapper_squareWithBackground:function(){return P},filterWrapper_tab:function(){return B}});var r=i(24228),o=i(93765),l=i(50056),a=i(24791),s=i(72779),u=i.n(s),c=i(2784),d=i(47198),p="vvqwo72",m="vvqwo73 vvqwo70",_="vvqwo74 vvqwo71 vvqwo70",v="vvqwo75 vvqwo71 vvqwo70",h="vvqwo76 vvqwo70",f="vvqwo7d",g="vvqwo79 vvqwo78",y="vvqwo7a vvqwo78",b="vvqwo7b vvqwo78",w="vvqwo7c",q="vvqwo7o",x="vvqwo7k vvqwo7j",C="vvqwo7l vvqwo7j",S="vvqwo7m vvqwo7j",D="vvqwo7n vvqwo7j",k="vvqwo7i",I="vvqwo7f vvqwo77",L="vvqwo7g vvqwo77",T="vvqwo7h vvqwo77",N="vvqwo7e vvqwo77",j="vvqwo7w vvqwo7v",O="vvqwo7x vvqwo7v",A="vvqwo7p",E="vvqwo7r vvqwo7q",W="vvqwo7s vvqwo7q",P="vvqwo7t vvqwo7q",B="vvqwo7u vvqwo7q",U=i(52322);let M="All";function R(e){let{filters:t,filterStyle:i=d.P.PILL,filterColor:s,selectedFilter:p,setSelectedFilter:m}=e,_=(0,c.useRef)(null),[v,h]=(0,c.useState)(0),[f,g]=(0,c.useState)(!1),y=_.current&&i!==d.P.LEFT_COLUMN&&_.current.scrollWidth>_.current.offsetWidth,b=e=>e?i===d.P.TAB?"white"===s||"gray"===s?"var(--text)":"var(--accent)":"gray"===s?"var(--text)":"white"===s?"var(--text-light-theme)":"var(--text-on-accent)":"var(--text-lighter)",w=e=>e&&i===d.P.TAB?"white"===s||"gray"===s?"var(--text-light)":"var(--accent)":"transparent";(0,c.useEffect)(()=>{_.current&&y&&(v>=_.current.scrollWidth-_.current.offsetWidth-1?g(!0):g(!1))},[v,y]);let q=e=>{_.current&&(_.current.scrollLeft+=e,h(v+e))};return(0,U.jsxs)("div",{className:u()(n["filterWrapper_".concat(i)]),style:{"--accent":(0,l.Tj)(s,a.z7)},children:[(0,U.jsx)("div",{className:n["filterContainer_".concat(i)],children:(0,U.jsxs)("div",{className:n["filterItemWrapper_".concat(i)],ref:_,onScroll:y?()=>{_.current&&h(_.current.scrollLeft)}:()=>{},children:[(0,U.jsx)("button",{type:"button",onClick:()=>m(M),className:u()(n["filterItem_".concat(i)],{[n["filterItemActive_".concat(i)]]:p===M}),style:{color:b(p===M),borderColor:w(p===M),boxShadow:p===M&&i!==d.P.TAB?"0 10px 20px -10px ".concat((0,l.Tj)(s,a.My)):"none"},children:M}),t.map(e=>(0,U.jsx)("button",{type:"button",onClick:()=>m(e),className:u()(n["filterItem_".concat(i)],{[n["filterItemActive_".concat(i)]]:p===e}),style:{color:b(p===e),borderColor:w(p===e),boxShadow:p===e&&i!==d.P.TAB?"0 10px 20px -10px ".concat((0,l.Tj)(s,a.My)):"none"},children:e},e))]})}),y&&0!==v&&(0,U.jsx)("div",{className:O,children:(0,U.jsx)("button",{type:"button",onClick:()=>q(-300),children:(0,U.jsx)(r.s,{size:28})})}),y&&!f&&(0,U.jsx)("div",{className:j,children:(0,U.jsx)("button",{type:"button",onClick:()=>q(300),children:(0,U.jsx)(o._,{size:28})})})]})}R.defaultProps={selectedFilter:M,filterStyle:d.P.PILL,filterColor:"accent"}}}]);